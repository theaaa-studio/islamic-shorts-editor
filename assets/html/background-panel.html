<!-- Panel: Background -->
<div class="panel background-panel">
  <h3>Background</h3>
  <div class="inline-row">
    <!-- Mode toggles -->
    <label class="toggle" title="Use a solid background color">
      <input
        type="radio"
        name="bgMode"
        value="color"
        id="bgModeColor"
        checked
      />
      <span>Solid Color</span>
    </label>

    <label class="toggle" title="Use image/video from assets/background">
      <input type="radio" name="bgMode" value="media" id="bgModeMedia" />
      <span>Media (image/video)</span>
    </label>

    <!-- Color pickers in horizontal layout -->
    <div class="field" style="display: flex; gap: 1rem; align-items: flex-start;">
      <div style="flex: 1;" id="bgColorField">
        <label class="small" for="bgColor" style="white-space: nowrap;">Background Color</label>
        <input id="bgColor" type="color" value="#FBEEE8" />
      </div>
      <div style="flex: 1;">
        <label class="small" style="white-space: nowrap;">Ayah Box Color</label>
        <div style="display: flex; gap: 0.5rem; align-items: center;">
          <input id="textBoxColor" type="color" value="#000000" style="width: 50px; height: 50px;" />
          <div style="flex: 1; display: flex; align-items: center; gap: 0.5rem; min-width: 150px;">
            <label class="small" for="textBoxOpacity" style="white-space: nowrap; margin: 0; font-size: 0.75rem;">Opacity:</label>
            <input id="textBoxOpacity" type="range" min="0" max="100" value="12" style="flex: 1; min-width: 80px;" />
            <span id="textBoxOpacityVal" class="small" style="min-width: 3ch; font-size: 0.75rem;">12%</span>
          </div>
        </div>
      </div>
    </div>

    <!-- Media selector (shown when 'media' is selected) -->
    <div class="field" id="bgMediaField" style="display: none">
      <label class="small" for="bgMediaSelect"
        >Choose Background (Image/Video)</label
      >
      <select id="bgMediaSelect"></select>
      <span class="hint" id="bgMediaHint">Using configured media list.</span>

      <label
        for="bgUploadInput"
        class="file-trigger"
        title="Note: Do not upload anything that can disrespect Quran. Remember Allah is always watching."
      >
        <!-- tiny upload icon -->
        <svg viewBox="0 0 24 24" fill="none" aria-hidden="true">
          <path
            d="M12 3v12m0 0l-4-4m4 4l4-4"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
          />
          <path
            d="M19 15v4a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-4"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
          />
        </svg>
        Choose files
      </label>

      <!-- keep the same ID so existing JS continues to work -->
      <input
        id="bgUploadInput"
        class="visually-hidden"
        type="file"
        accept="image/*,video/*"
        multiple
      />
    </div>
  </div>
</div>
